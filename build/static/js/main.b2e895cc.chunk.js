(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,a){e.exports={profilePageWrapper:"ProfilePage_profilePageWrapper__onBvr",profilePageTitle:"ProfilePage_profilePageTitle__3gFyx",profilePageUserNameTitle:"ProfilePage_profilePageUserNameTitle__170cN",profilePageForm:"ProfilePage_profilePageForm__11FPy",profilePageInput:"ProfilePage_profilePageInput__2kq26",profilePageButton:"ProfilePage_profilePageButton__1qNPr"}},31:function(e,t,a){e.exports={tweetFormGroup:"CreateTweet_tweetFormGroup__3c_hV",tweetForm:"CreateTweet_tweetForm__NLXXq",tweetFormInput:"CreateTweet_tweetFormInput__3vgQd",tweetFormAlert:"CreateTweet_tweetFormAlert__NzICj",tweetFormButton:"CreateTweet_tweetFormButton__1QyfL"}},33:function(e,t,a){e.exports={tweetsListWrapper:"ListOfTweets_tweetsListWrapper__Wgdwl",toastHeader:"ListOfTweets_toastHeader__xnl04",toastBody:"ListOfTweets_toastBody__Psc3m",tweetName:"ListOfTweets_tweetName__15Jae"}},39:function(e,t,a){},42:function(e,t,a){e.exports={navBarWrapper:"NavBar_navBarWrapper__2Syas",navBar:"NavBar_navBar__3TH9t"}},61:function(e,t,a){e.exports=a(90)},66:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),s=(a(66),a(58)),c=a(17),i=a.n(c),u=a(29),m=a(19),d=a(20),p=a(22),f=a(21),v=a(12),h=a(92),w=a(93),b=a(94),E=a(95),N=a(96),g=a(103),_=(a(39),a(31)),y=a.n(_),O=r.a.createContext({userName:"David",tweets:[],currentUserName:function(e){},handleOnTweetSubmit:function(e){}});var S=function(e){var t=e.showLoading;return r.a.createElement("div",{className:"loader center"},r.a.createElement("i",{className:"fa fa-cog fa-spin",style:{color:"lightblue",display:t?"block":"none"}}))},T=a(40),P=a.n(T);P.a.initializeApp({apiKey:"AIzaSyD1McotxXef3wsarLT5vmJ7RmwDikcrTGg",authDomain:"react-twitter-app-davidbador.firebaseapp.com",databaseURL:"https://react-twitter-app-davidbador.firebaseio.com",projectId:"react-twitter-app-davidbador",storageBucket:"react-twitter-app-davidbador.appspot.com",messagingSenderId:"242298983492",appId:"1:242298983492:web:c0b2f7b1e95c0f5d34d811",measurementId:"G-W24TZJCTDV"});var C=P.a.firestore();function x(e,t,a){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("tweets").add(t);case 2:return r=e.sent,e.prev=3,a(),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",n(e.t0));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}var M=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateText=function(e){e.target.value.length<=140?n.setState({buttonDisabled:!1,showAlert:!1}):n.setState({buttonDisabled:!0,showAlert:!0}),n.setState({value:e.target.value})},n.handleModalShow=function(e){n.setState({showModal:!0,modalText:e})},n.handleModalClose=function(){n.setState({showModal:!1})},n.turnOffLoader=function(){setTimeout((function(){return n.setState({showLoading:!1})}),1e3)},n.displayError=function(e){n.handleModalShow(e)},n.handleOnSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=n.state.value,o=x({content:r,userName:n.context.userName,date:(new Date).toISOString()},n.turnOffLoader,n.displayError),n.setState({showLoading:!0,value:""}),setTimeout((function(){return a(o)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={value:"",showAlert:!1,buttonDisabled:!1,showLoading:!1,showModal:!1,modalText:""},n.button=r.a.createRef(),n.updateText=n.updateText.bind(Object(v.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(v.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(v.a)(n)),n.turnOffLoader=n.turnOffLoader.bind(Object(v.a)(n)),n.displayError=n.displayError.bind(Object(v.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(O.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement(h.a,{onSubmit:function(a){return e.handleOnSubmit(a,t.handleOnTweetSubmit)}},r.a.createElement(w.a,{className:y.a.tweetFormGroup},r.a.createElement("div",{className:y.a.tweetForm},r.a.createElement(b.a,{type:"textarea",name:"text",id:"tweetTextArea",value:e.state.value,className:y.a.tweetFormInput,placeholder:"What do you have in mind...",onChange:e.updateText}),r.a.createElement(g.a,{show:e.state.showModal,onHide:e.handleModalClose,animation:!1},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"ERROR!")),r.a.createElement(g.a.Body,null,e.state.modalText),r.a.createElement(g.a.Footer,null,r.a.createElement(E.a,{variant:"primary",onClick:e.handleModalClose},"Close"))),r.a.createElement(N.a,{color:"danger",className:y.a.tweetFormAlert,style:{display:e.state.showAlert?"block":"none"}},"The tweet can't contain more than 140 chars."),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:e.state.buttonDisabled,className:y.a.tweetFormButton},"Tweet")))),r.a.createElement(S,{showLoading:e.state.showLoading}))}))}}]),a}(r.a.Component);M.contextType=O;var k=M,B=a(97),F=a(98),L=a(99),I=a(33),U=a.n(I);var W=function(){return r.a.createElement(O.Consumer,null,(function(e){return r.a.createElement("div",null,e.tweets.sort((function(e,t){return t.date>e.date?1:-1})).map((function(e,t){return r.a.createElement("div",{className:U.a.tweetsListWrapper},r.a.createElement("div",{key:t,className:"p-3 my-2 rounded bg-dark",style:{width:"50%"}},r.a.createElement(B.a,null,r.a.createElement(F.a,{className:U.a.toastHeader},r.a.createElement("span",{className:U.a.tweetName},e.userName),r.a.createElement("span",null,e.date)),r.a.createElement(L.a,{className:U.a.toastBody},e.content))))})))}))},D=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(W,null))}}]),a}(r.a.Component),A=a(28),H=a.n(A),R=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleModalShow=function(){n.setState({showModal:!0})},n.handleModalClose=function(){n.setState({showModal:!1})},n.updateUserName=function(e){n.setState({value:e.target.value})},n.submitUserName=function(e,t){e.preventDefault(),n.state.value.length>0?(n.setState({value:e.target.value}),t(n.state.value)):n.handleModalShow()},n.state={showModal:!1,value:""},n.updateUserName=n.updateUserName.bind(Object(v.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(v.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(v.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(O.Consumer,null,(function(t){return r.a.createElement("div",{className:H.a.profilePageWrapper},r.a.createElement(h.a,{className:H.a.profilePageForm,onSubmit:function(a){return e.submitUserName(a,t.currentUserName)}},r.a.createElement(w.a,null,r.a.createElement("div",{className:H.a.profilePageTitle},"Profile"),r.a.createElement(g.a,{show:e.state.showModal,onHide:e.handleModalClose,animation:!1},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"ERROR!")),r.a.createElement(g.a.Body,null,"Please enter a User Name!"),r.a.createElement(g.a.Footer,null,r.a.createElement(E.a,{variant:"primary",onClick:e.handleModalClose},"Close"))),r.a.createElement("div",{className:H.a.profilePageUserNameTitle},"User Name"),r.a.createElement(b.a,{value:e.state.value,type:"text",className:H.a.profilePageInput,onChange:e.updateUserName}),r.a.createElement(E.a,{type:"submit",className:H.a.profilePageButton,color:"primary"},"Save"))))}))}}]),a}(r.a.Component),J=a(100),G=a(101),q=a(102),z=a(32),X=a(42),Q=a.n(X);var V=function(){return r.a.createElement("div",{className:Q.a.navBarWrapper},r.a.createElement(J.a,{color:"dark",dark:!0,expand:"md",className:Q.a.navBar},r.a.createElement(G.a,null,r.a.createElement(q.a,null,r.a.createElement(z.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),r.a.createElement(q.a,null,r.a.createElement(z.b,{exact:!0,activeClassName:"active",to:"/profile"},"Profile")))))},K=a(24),Z=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.loadTweets(),n.interval=setInterval(n.loadTweets,6e4)},n.loadTweets=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("tweets").get();case 2:t=e.sent,a=t.docs.map((function(e){return e.data()})),n.setState({tweets:a});case 5:case"end":return e.stop()}}),e)}))),n.state={userName:"David",tweets:[]},n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("savedName"),a=JSON.parse(t);t?this.setState((function(){return{userName:a}})):this.setState((function(){return{userName:e.state.userName}}))}},{key:"componentDidUpdate",value:function(){var e=this.state.userName;localStorage.setItem("savedName",JSON.stringify(e))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(z.a,null,r.a.createElement(V,null),r.a.createElement(K.c,null,r.a.createElement(K.a,{path:"/",exact:!0},r.a.createElement(O.Provider,{value:{userName:this.state.userName,tweets:this.state.tweets,handleOnTweetSubmit:function(t){e.setState({tweets:[t].concat(Object(s.a)(e.state.tweets))}),e.loadTweets()}}},r.a.createElement(D,null))),r.a.createElement(K.a,{path:"/profile",exact:!0},r.a.createElement(O.Provider,{value:{userName:this.state.userName,currentUserName:function(t){e.setState({userName:t})}}},r.a.createElement(R,null))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.b2e895cc.chunk.js.map