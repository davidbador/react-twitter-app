(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,a){e.exports={profilePageWrapper:"ProfilePage_profilePageWrapper__onBvr",profilePageTitle:"ProfilePage_profilePageTitle__3gFyx"}},30:function(e,t,a){},33:function(e,t,a){e.exports={tweetsListWrapper:"ListOfTweets_tweetsListWrapper__Wgdwl",tweetName:"ListOfTweets_tweetName__15Jae"}},34:function(e,t,a){e.exports={navBarWrapper:"NavBar_navBarWrapper__2Syas",navBar:"NavBar_navBar__3TH9t"}},52:function(e,t,a){e.exports={tweetForm:"CreateTweet_tweetForm__NLXXq"}},62:function(e,t,a){e.exports=a(98)},67:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),s=(a(67),a(59)),c=a(14),i=a.n(c),u=a(23),m=a(16),d=a(17),p=a(19),h=a(18),f=a(9),v=a(100),w=a(101),b=a(102),E=a(103),y=a(104),g=a(111),N=(a(30),a(52)),O=a.n(N),S=r.a.createContext({userName:"David",tweets:[],currentUserName:function(e){},handleOnTweetSubmit:function(e){}}),x=a(31),T=a.n(x),j="https://itc-bootcamp-19-dot-charcha-dev.appspot.com/";function M(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("".concat(j,"/tweet"),t);case 2:return r=e.sent,e.prev=3,a(),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",n(e.t0));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}var k=function(e){var t=e.showLoading;return r.a.createElement("div",{className:"loader center"},r.a.createElement("i",{className:"fa fa-cog fa-spin",style:{color:"lightblue",display:t?"block":"none"}}))},_=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateText=function(e){e.target.value.length<=140?n.setState({buttonDisabled:!1,showAlert:!1}):n.setState({buttonDisabled:!0,showAlert:!0}),n.setState({value:e.target.value})},n.handleModalShow=function(e){n.setState({showModal:!0,modalText:e})},n.handleModalClose=function(){n.setState({showModal:!1})},n.turnOffLoader=function(){setTimeout((function(){return n.setState({showLoading:!1})}),1e3)},n.displayError=function(e){n.handleModalShow(e)},n.handleOnSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.state.value,e.next=4,M({tweet:{content:r,userName:n.context.userName,date:(new Date).toISOString()}},n.turnOffLoader,n.displayError);case 4:l=e.sent,n.setState({showLoading:!0,value:""}),setTimeout((function(){return a(l)}),1e3);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={value:"",showAlert:!1,buttonDisabled:!1,showLoading:!1,showModal:!1,modalText:""},n.button=r.a.createRef(),n.updateText=n.updateText.bind(Object(f.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(f.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(f.a)(n)),n.turnOffLoader=n.turnOffLoader.bind(Object(f.a)(n)),n.displayError=n.displayError.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(S.Consumer,null,(function(t){return r.a.createElement("div",null,r.a.createElement(v.a,{onSubmit:function(a){return e.handleOnSubmit(a,t.handleOnTweetSubmit)}},r.a.createElement(w.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:O.a.tweetForm},r.a.createElement(b.a,{type:"textarea",name:"text",id:"tweetTextArea",value:e.state.value,style:{background:"black",color:"white",height:"30vh",resize:"none"},placeholder:"What do you have in mind...",onChange:e.updateText}),r.a.createElement(g.a,{show:e.state.showModal,onHide:e.handleModalClose,animation:!1},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"ERROR!")),r.a.createElement(g.a.Body,null,e.state.modalText),r.a.createElement(g.a.Footer,null,r.a.createElement(E.a,{variant:"primary",onClick:e.handleModalClose},"Close"))),r.a.createElement(y.a,{color:"danger",style:{position:"absolute",bottom:0,left:"1%",display:e.state.showAlert?"block":"none"}},"The tweet can't contain more than 140 chars."),r.a.createElement(E.a,{type:"submit",color:"primary",disabled:e.state.buttonDisabled,style:{position:"absolute",bottom:"7%",right:"1%"}},"Tweet")))),r.a.createElement(k,{showLoading:e.state.showLoading}))}))}}]),a}(r.a.Component);_.contextType=S;var L=_,P=a(105),B=a(106),W=a(107),U=a(33),D=a.n(U);var R=function(){return r.a.createElement(S.Consumer,null,(function(e){return r.a.createElement("div",null,e.tweets.map((function(e,t){return r.a.createElement("div",{className:D.a.tweetsListWrapper},r.a.createElement("div",{key:t,className:"p-3 my-2 rounded bg-dark",style:{width:"50%"}},r.a.createElement(P.a,null,r.a.createElement(B.a,{style:{color:"gray",textAlign:"right",position:"relative"}},r.a.createElement("span",{className:D.a.tweetName},e.userName),r.a.createElement("span",null,e.date)),r.a.createElement(W.a,{style:{color:"white",textAlign:"left",marginTop:"20px"}},e.content))))})))}))},A=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(R,null))}}]),a}(r.a.Component),I=a(27),F=a.n(I),H=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleModalShow=function(){n.setState({showModal:!0})},n.handleModalClose=function(){n.setState({showModal:!1})},n.updateUserName=function(e){n.setState({value:e.target.value})},n.submitUserName=function(e,t){e.preventDefault(),n.state.value.length>0?(n.setState({value:e.target.value}),t(n.state.value)):n.handleModalShow()},n.state={showModal:!1,value:""},n.button=r.a.createRef(),n.updateUserName=n.updateUserName.bind(Object(f.a)(n)),n.handleModalShow=n.handleModalShow.bind(Object(f.a)(n)),n.handleModalClose=n.handleModalClose.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(S.Consumer,null,(function(t){return r.a.createElement("div",{className:F.a.profilePageWrapper},r.a.createElement(v.a,{style:{position:"relative"},onSubmit:function(a){return e.submitUserName(a,t.currentUserName)}},r.a.createElement(w.a,null,r.a.createElement("div",{className:F.a.profilePageTitle},"Profile"),r.a.createElement(g.a,{show:e.state.showModal,onHide:e.handleModalClose,animation:!1},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"ERROR!")),r.a.createElement(g.a.Body,null,"Please enter a User Name!"),r.a.createElement(g.a.Footer,null,r.a.createElement(E.a,{variant:"primary",onClick:e.handleModalClose},"Close"))),r.a.createElement("div",{className:F.a.profilePage},"User Name"),r.a.createElement(b.a,{value:e.state.value,type:"text",style:{width:"700px",background:"black",color:"white"},onChange:e.updateUserName}),r.a.createElement(E.a,{type:"submit",style:{position:"absolute",right:0},color:"primary",innerRef:function(t){e.button=t}},"Save"))))}))}}]),a}(r.a.Component),J=a(108),X=a(109),q=a(110),z=a(25),$=a(34),G=a.n($);var K=function(){return r.a.createElement("div",{className:G.a.navBarWrapper},r.a.createElement(J.a,{color:"dark",dark:!0,expand:"md",className:G.a.navBar},r.a.createElement(X.a,null,r.a.createElement(q.a,null,r.a.createElement(z.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),r.a.createElement(q.a,null,r.a.createElement(z.b,{exact:!0,activeClassName:"active",to:"/profile"},"Profile")))))},Q=a(21),V=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.loadTweets(),n.interval=setInterval(n.loadTweets,6e4)},n.loadTweets=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(j,"/tweet"));case 2:t=e.sent,n.setState({tweets:t.data.tweets});case 4:case"end":return e.stop()}}),e)}))),n.state={userName:"David",tweets:[]},n}return Object(d.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("savedName"),a=JSON.parse(t);t?this.setState((function(){return{userName:a}})):this.setState((function(){return{userName:e.state.userName}}))}},{key:"componentDidUpdate",value:function(){var e=this.state.userName;localStorage.setItem("savedName",JSON.stringify(e))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(z.a,null,r.a.createElement(K,null),r.a.createElement(Q.c,null,r.a.createElement(Q.a,{path:"/",exact:!0},r.a.createElement(S.Provider,{value:{userName:this.state.userName,tweets:this.state.tweets,handleOnTweetSubmit:function(t){e.setState({tweets:[t].concat(Object(s.a)(e.state.tweets))}),e.loadTweets()}}},r.a.createElement(A,null))),r.a.createElement(Q.a,{path:"/profile",exact:!0},r.a.createElement(S.Provider,{value:{userName:this.state.userName,currentUserName:function(t){return e.setState({userName:t})}}},r.a.createElement(H,null))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.10257a50.chunk.js.map